{"version":3,"file":"static/js/914.d2072c72.chunk.js","mappings":"0NACA,EAAuB,2BAAvB,EAAyD,2BAAzD,EAAgG,gCAAhG,EAAuI,2BAAvI,EAA6K,+B,SCyE7K,EA5DqB,WAAO,IAAD,IACzB,GAAwCA,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,WAEnDC,GAAYC,EAAAA,EAAAA,MAAZD,SAERE,EAAAA,EAAAA,YAAU,WACRC,MAAM,GAAD,OAXQ,gCAWR,iBAAqBH,EAArB,oBAVO,mCAUP,oBACFI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IACbF,MAAK,SAAAG,GAAI,OAAId,EAAgBc,EAApB,IACTC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,EAAlB,GACb,GAAE,CAACT,IAEJ,IAAQY,EAA+CpB,EAA/CoB,MAAOC,EAAwCrB,EAAxCqB,WAAYC,EAA4BtB,EAA5BsB,SAAUC,EAAkBvB,EAAlBuB,cAG/BC,EAAkBC,KAAKC,MAAML,GAGnC,OACE,4BACE,UAAC,KAAD,CAASM,GAAIvB,EAAoBwB,QAASC,UAAWC,EAArD,UACG,IADH,qBAIA,iBAAKD,UAAWC,EAAhB,WACE,0BACE,gBACED,UAAWC,EACXC,IAAG,yCAAoCR,GACvCS,IAAKZ,OAGT,iBAAKS,UAAWC,EAAhB,WACE,0BAAKV,EAAL,iBACA,wCAAgBI,EAAhB,QACA,sCACA,uBAAIF,KACJ,oCACA,8CAGJ,oDACA,gBAAIO,UAAWC,EAAf,WACE,yBACE,SAAC,KAAD,CAAMH,GAAG,OAAT,qBAEF,yBAEE,SAAC,KAAD,CAAMA,GAAG,UAAT,2BAGJ,SAAC,EAAAM,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,QAIP,C","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"MovieDetails_wrap__84S6L\",\"link\":\"MovieDetails_link__U+v+7\",\"img_movie\":\"MovieDetails_img_movie__K9GxI\",\"text\":\"MovieDetails_text__RHcc4\",\"wrapList\":\"MovieDetails_wrapList__D3SLF\"};","import React, { Suspense } from 'react';\nimport { useEffect, useState, useRef } from 'react';\nimport {\n  NavLink,\n  Link,\n  Outlet,\n  useParams,\n  useLocation,\n} from 'react-router-dom';\nimport css from './MovieDetails.module.css';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'c2bbff09d61c8579fc203c76a35e2f7a';\n\nconst MovieDetails = () => {\n  const [movieDetails, setMovieDetails] = useState([]);\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    fetch(`${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`)\n      .then(response => response.json())\n      .then(data => setMovieDetails(data))\n      .catch(err => console.error(err));\n  }, [movieId]);\n\n  const { title, popularity, overview, backdrop_path } = movieDetails;\n\n  // const release = release_date.slice(0, 4);\n  const popularityRound = Math.round(popularity);\n  // const movieGenres = genres.map(({ name }) => name).join(', ');\n\n  return (\n    <div>\n      <NavLink to={backLinkLocationRef.current} className={css.link}>\n        {' '}\n        &larr; go back\n      </NavLink>\n      <div className={css.wrap}>\n        <div>\n          <img\n            className={css.img_movie}\n            src={`https://image.tmdb.org/t/p/w500${backdrop_path}`}\n            alt={title}\n          />\n        </div>\n        <div className={css.text}>\n          <h1>{title} (release)</h1>\n          <p>User score: {popularityRound}%</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h3>Genres</h3>\n          <p>movieGenres</p>\n        </div>\n      </div>\n      <h2>Additional information</h2>\n      <ul className={css.wrapList}>\n        <li>\n          <Link to=\"cast\">Cast</Link>\n        </li>\n        <li>\n          {/* http://localhost:3000/dogs/dog-3/gallery */}\n          <Link to=\"reviews\">Reviews</Link>\n        </li>\n      </ul>\n      <Suspense fallback={<div>loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["useState","movieDetails","setMovieDetails","location","useLocation","backLinkLocationRef","useRef","state","from","movieId","useParams","useEffect","fetch","then","response","json","data","catch","err","console","error","title","popularity","overview","backdrop_path","popularityRound","Math","round","to","current","className","css","src","alt","Suspense","fallback"],"sourceRoot":""}