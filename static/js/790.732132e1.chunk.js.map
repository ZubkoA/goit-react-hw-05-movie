{"version":3,"file":"static/js/790.732132e1.chunk.js","mappings":"mOACA,EAA4B,0BAA5B,EAAmE,2BAAnE,EAAoG,oBAApG,EAA+H,qB,SC4D/H,EAxDe,WACb,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAaAC,QAAQC,IAAIR,GACZ,IAAMS,GAAcC,EAAAA,EAAAA,UAClB,kCAAML,EAAaM,IAAI,gBAAvB,QAAmC,EAAnC,GACA,CAACN,IAEGO,GAAWC,EAAAA,EAAAA,MAMjB,OAJAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAkBN,GAAaO,KAAKb,EACrC,GAAE,CAACM,KAGF,iBAAKQ,UAAWC,EAAhB,WACE,kBAAMC,SArBW,SAAAC,GAEnB,GADAA,EAAEC,iBACmB,KAAjBrB,EAAMsB,OACR,OAAOC,MAAM,qBAEfjB,EAAgB,CAAEkB,MAAOxB,IACzBC,EAAS,GACV,EAciCgB,UAAWC,EAAzC,WACE,kBACEO,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,eACZC,SA/Ba,SAAC,GAA2B,IAAf7B,EAAc,EAAxB8B,OAAU9B,MAChCC,EAASD,EAAM+B,cAChB,EA8BO/B,MAAOA,KAET,mBAAQyB,KAAK,SAASR,UAAWC,EAAjC,wBAIF,wBACGhB,EAAa8B,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAV,OAChB,eAAajB,UAAWC,EAAxB,UACE,SAAC,KAAD,CAAMiB,GAAE,UAAKD,GAAME,MAAO,CAAEC,KAAMzB,GAAlC,SACGqB,KAFIC,EADO,QAUzB,C,+ICzDDI,EAAAA,EAAAA,SAAAA,QAAyB,gCACzB,IAAMC,EAAU,mCAET,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,qGACkBF,EAAAA,EAAAA,GAAM,qBAAsB,CACjDG,OAAQ,CACNC,QAASH,KAHR,cACCI,EADD,yBAMEA,EAASC,KAAKC,SANhB,kEASA,SAAe9B,EAAtB,+CAAO,OAAP,oBAAO,WAAiCN,GAAjC,wFACkB6B,EAAAA,EAAAA,GAAM,iEAAD,OACuC7B,GACjE,CACEgC,OAAQ,CACNC,QAASH,EACT9B,YAAAA,KAND,cACCkC,EADD,yBAUEA,EAASC,KAAKC,SAVhB,kEAaA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAiCC,GAAjC,wFACkBT,EAAAA,EAAAA,GAAM,SAAD,OAAUS,EAAV,mBAAoC,CAC9DN,OAAQ,CACNC,QAASH,EACTQ,QAAAA,KAJC,cACCJ,EADD,yBAOEA,EAASC,MAPX,kE","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.js","services/Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__+-Cnt\",\"searchForm\":\"Movies_searchForm__J4-xw\",\"btn\":\"Movies_btn__TlfBQ\",\"list\":\"Movies_list__hqYjd\"};","import React, { useEffect, useMemo, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { fetchSearchMovies } from '../../services/Api';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [value, setValue] = useState('');\n  const [searchMovies, setSearchMovies] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const handleChange = ({ target: { value } }) => {\n    setValue(value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (value.trim() === '') {\n      return alert('Type in something');\n    }\n    setSearchParams({ query: value });\n    setValue('');\n  };\n  console.log(value);\n  const searchValue = useMemo(\n    () => searchParams.get('query') ?? '',\n    [searchParams]\n  );\n  const location = useLocation();\n\n  useEffect(() => {\n    fetchSearchMovies(searchValue).then(setSearchMovies);\n  }, [searchValue]);\n\n  return (\n    <div className={css.container}>\n      <form onSubmit={handleSubmit} className={css.searchForm}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search films\"\n          onChange={handleChange}\n          value={value}\n        />\n        <button type=\"submit\" className={css.btn}>\n          Search\n        </button>\n      </form>\n      <ul>\n        {searchMovies.map(({ title, id }) => (\n          <li key={id} className={css.list}>\n            <Link to={`${id}`} state={{ from: location }}>\n              {title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'c2bbff09d61c8579fc203c76a35e2f7a';\n\nexport async function fetchTrendMovies() {\n  const response = await axios('trending/movie/day', {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data.results;\n}\n\nexport async function fetchSearchMovies(searchValue) {\n  const response = await axios(\n    `search/movie?&include_adult=false&language=en-US&page=1&query=${searchValue}`,\n    {\n      params: {\n        api_key: API_KEY,\n        searchValue,\n      },\n    }\n  );\n  return response.data.results;\n}\n\nexport async function fetchMovieDetails(movieId) {\n  const response = await axios(`movie/${movieId}&language=en-US`, {\n    params: {\n      api_key: API_KEY,\n      movieId,\n    },\n  });\n  return response.data;\n}\n"],"names":["useState","value","setValue","searchMovies","setSearchMovies","useSearchParams","searchParams","setSearchParams","console","log","searchValue","useMemo","get","location","useLocation","useEffect","fetchSearchMovies","then","className","css","onSubmit","e","preventDefault","trim","alert","query","type","autoComplete","autoFocus","placeholder","onChange","target","toLowerCase","map","title","id","to","state","from","axios","API_KEY","fetchTrendMovies","params","api_key","response","data","results","fetchMovieDetails","movieId"],"sourceRoot":""}