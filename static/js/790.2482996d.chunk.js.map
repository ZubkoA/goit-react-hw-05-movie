{"version":3,"file":"static/js/790.2482996d.chunk.js","mappings":"0NACA,EAA4B,0BAA5B,EAAmE,2BAAnE,EAAoG,oBAApG,EAA+H,qB,SCmE/H,EA7De,WACb,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAcMC,GAAcC,EAAAA,EAAAA,UAClB,kCAAMH,EAAaI,IAAI,gBAAvB,QAAmC,EAAnC,GACA,CAACJ,IAEGK,GAAWC,EAAAA,EAAAA,MAWjB,OATAC,EAAAA,EAAAA,YAAU,WACRC,MAAM,GAAD,OA5BQ,gCA4BR,iCA3BO,mCA2BP,4DAC4FN,IAE9FO,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IACbF,MAAK,SAAAG,GAAI,OAAId,EAAgBc,EAAKC,QAAzB,IACTC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,EAAlB,GACb,GAAE,CAACb,KAGF,iBAAKgB,UAAWC,EAAhB,WACE,kBAAMC,SA1BW,SAAAC,GAEnB,GADAA,EAAEC,iBACmB,KAAjB3B,EAAM4B,OACR,OAAOC,MAAM,qBAEfvB,EAAgB,CAAEwB,MAAO9B,IACzBC,EAAS,GACV,EAmBiCsB,UAAWC,EAAzC,WACE,kBACEO,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,eACZC,SApCa,SAAC,GAA2B,IAAfnC,EAAc,EAAxBoC,OAAUpC,MAChCC,EAASD,EAAMqC,cAChB,EAmCOrC,MAAOA,KAET,mBAAQ+B,KAAK,SAASR,UAAWC,EAAjC,wBAIF,wBACGtB,EAAaoC,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAV,OAChB,eAAajB,UAAWC,EAAxB,UACE,SAAC,KAAD,CAAMiB,GAAE,UAAKD,GAAME,MAAO,CAAEC,KAAMjC,GAAlC,SACG6B,KAFIC,EADO,QAUzB,C","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__+-Cnt\",\"searchForm\":\"Movies_searchForm__J4-xw\",\"btn\":\"Movies_btn__TlfBQ\",\"list\":\"Movies_list__hqYjd\"};","import React, { useEffect, useMemo, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport css from './Movies.module.css';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'c2bbff09d61c8579fc203c76a35e2f7a';\n\nconst Movies = () => {\n  const [value, setValue] = useState('');\n  const [searchMovies, setSearchMovies] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const handleChange = ({ target: { value } }) => {\n    setValue(value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (value.trim() === '') {\n      return alert('Type in something');\n    }\n    setSearchParams({ query: value });\n    setValue('');\n  };\n\n  const searchValue = useMemo(\n    () => searchParams.get('query') ?? '',\n    [searchParams]\n  );\n  const location = useLocation();\n\n  useEffect(() => {\n    fetch(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&include_adult=false&language=en-US&page=1&query=${searchValue}`\n    )\n      .then(response => response.json())\n      .then(data => setSearchMovies(data.results))\n      .catch(err => console.error(err));\n  }, [searchValue]);\n\n  return (\n    <div className={css.container}>\n      <form onSubmit={handleSubmit} className={css.searchForm}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search films\"\n          onChange={handleChange}\n          value={value}\n        />\n        <button type=\"submit\" className={css.btn}>\n          Search\n        </button>\n      </form>\n      <ul>\n        {searchMovies.map(({ title, id }) => (\n          <li key={id} className={css.list}>\n            <Link to={`${id}`} state={{ from: location }}>\n              {title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["useState","value","setValue","searchMovies","setSearchMovies","useSearchParams","searchParams","setSearchParams","searchValue","useMemo","get","location","useLocation","useEffect","fetch","then","response","json","data","results","catch","err","console","error","className","css","onSubmit","e","preventDefault","trim","alert","query","type","autoComplete","autoFocus","placeholder","onChange","target","toLowerCase","map","title","id","to","state","from"],"sourceRoot":""}