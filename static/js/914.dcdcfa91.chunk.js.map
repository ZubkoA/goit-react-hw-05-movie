{"version":3,"file":"static/js/914.dcdcfa91.chunk.js","mappings":"mOACA,EAAuB,2BAAvB,EAAyD,2BAAzD,EAAgG,gCAAhG,EAAuI,2BAAvI,EAA6K,+B,SC0E7K,EA/DqB,WAAO,IAAD,IACzB,GAAwCA,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,WAEnDC,GAAYC,EAAAA,EAAAA,MAAZD,SAERE,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAkBH,GAASI,KAAKX,EACjC,GAAE,CAACO,IAEJ,IAAQK,EACNb,EADMa,MAAOC,EACbd,EADac,WAAYC,EACzBf,EADyBe,SAAUC,EACnChB,EADmCgB,cAAeC,EAClDjB,EADkDiB,aAAcC,EAChElB,EADgEkB,OAElEC,QAAQC,IAAIN,EAAYG,EAAcC,GACtC,IAGMG,EAAkBC,KAAKC,MAAMT,GAKnC,OACE,4BACE,UAAC,KAAD,CAASU,GAAIpB,EAAoBqB,QAASC,UAAWC,EAArD,UACG,IADH,qBAIA,iBAAKD,UAAWC,EAAhB,WACE,0BACE,gBACED,UAAWC,EACXC,IAAG,yCAAoCZ,GACvCa,IAAKhB,OAGT,iBAAKa,UAAWC,EAAhB,WACE,0BACGd,EADH,KAvBQ,WACd,GAAII,EAAc,OAAOA,EAAaa,MAAM,EAAG,EAChD,CAsBmBC,GADZ,QAGA,wCAAgBV,EAAhB,QACA,sCACA,uBAAIN,KACJ,oCACA,uBA1BY,WAClB,GAAIG,EAAQ,OAAOA,EAAOc,KAAI,qBAAGC,IAAH,IAAoBC,KAAK,KACxD,CAwBWC,YAGR,oDACA,gBAAIT,UAAWC,EAAf,WACE,yBACE,SAAC,KAAD,CAAMH,GAAG,OAAT,qBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,2BAGJ,SAAC,EAAAY,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,QAIP,C,+ICvEDC,EAAAA,EAAAA,SAAAA,QAAyB,gCACzB,IAAMC,EAAU,mCAET,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,qGACkBF,EAAAA,EAAAA,GAAM,qBAAsB,CACjDG,OAAQ,CACNC,QAASH,KAHR,cACCI,EADD,yBAMEA,EAASC,KAAKC,SANhB,kEASA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAiCC,GAAjC,wFACkBT,EAAAA,EAAAA,GAAM,iEAAD,OACuCS,GACjE,CACEN,OAAQ,CACNC,QAASH,EACTQ,YAAAA,KAND,cACCJ,EADD,yBAUEA,EAASC,KAAKC,SAVhB,kEAaA,SAAelC,EAAtB,+CAAO,OAAP,oBAAO,WAAiCH,GAAjC,wFACkB8B,EAAAA,EAAAA,GAAM,SAAD,OAAU9B,EAAV,mBAAoC,CAC9DiC,OAAQ,CACNC,QAASH,EACT/B,QAAAA,KAJC,cACCmC,EADD,yBAOEA,EAASC,MAPX,kE","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.js","services/Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"MovieDetails_wrap__84S6L\",\"link\":\"MovieDetails_link__U+v+7\",\"img_movie\":\"MovieDetails_img_movie__K9GxI\",\"text\":\"MovieDetails_text__RHcc4\",\"wrapList\":\"MovieDetails_wrapList__D3SLF\"};","import React, { Suspense } from 'react';\nimport { useEffect, useState, useRef } from 'react';\nimport {\n  NavLink,\n  Link,\n  Outlet,\n  useParams,\n  useLocation,\n} from 'react-router-dom';\nimport { fetchMovieDetails } from '../../services/Api';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [movieDetails, setMovieDetails] = useState([]);\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    fetchMovieDetails(movieId).then(setMovieDetails);\n  }, [movieId]);\n\n  const { title, popularity, overview, backdrop_path, release_date, genres } =\n    movieDetails;\n  console.log(popularity, release_date, genres);\n  const release = () => {\n    if (release_date) return release_date.slice(0, 4);\n  };\n  const popularityRound = Math.round(popularity);\n  const movieGenres = () => {\n    if (genres) return genres.map(({ name }) => name).join(', ');\n  };\n\n  return (\n    <div>\n      <NavLink to={backLinkLocationRef.current} className={css.link}>\n        {' '}\n        &larr; go back\n      </NavLink>\n      <div className={css.wrap}>\n        <div>\n          <img\n            className={css.img_movie}\n            src={`https://image.tmdb.org/t/p/w500${backdrop_path}`}\n            alt={title}\n          />\n        </div>\n        <div className={css.text}>\n          <h1>\n            {title} ({release()})\n          </h1>\n          <p>User score: {popularityRound}%</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h3>Genres</h3>\n          <p>{movieGenres()}</p>\n        </div>\n      </div>\n      <h2>Additional information</h2>\n      <ul className={css.wrapList}>\n        <li>\n          <Link to=\"cast\">Cast</Link>\n        </li>\n        <li>\n          <Link to=\"reviews\">Reviews</Link>\n        </li>\n      </ul>\n      <Suspense fallback={<div>loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'c2bbff09d61c8579fc203c76a35e2f7a';\n\nexport async function fetchTrendMovies() {\n  const response = await axios('trending/movie/day', {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data.results;\n}\n\nexport async function fetchSearchMovies(searchValue) {\n  const response = await axios(\n    `search/movie?&include_adult=false&language=en-US&page=1&query=${searchValue}`,\n    {\n      params: {\n        api_key: API_KEY,\n        searchValue,\n      },\n    }\n  );\n  return response.data.results;\n}\n\nexport async function fetchMovieDetails(movieId) {\n  const response = await axios(`movie/${movieId}&language=en-US`, {\n    params: {\n      api_key: API_KEY,\n      movieId,\n    },\n  });\n  return response.data;\n}\n"],"names":["useState","movieDetails","setMovieDetails","location","useLocation","backLinkLocationRef","useRef","state","from","movieId","useParams","useEffect","fetchMovieDetails","then","title","popularity","overview","backdrop_path","release_date","genres","console","log","popularityRound","Math","round","to","current","className","css","src","alt","slice","release","map","name","join","movieGenres","Suspense","fallback","axios","API_KEY","fetchTrendMovies","params","api_key","response","data","results","fetchSearchMovies","searchValue"],"sourceRoot":""}